@* @{
    ViewData["Title"] = "Home";
}

<script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>

<div id="chartContainer"></div>

@section Scripts {
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            var chart = new CanvasJS.Chart("chartContainer", {
                width: 800,
                height: 500,
                theme: "light2",
                animationEnabled: true,
                title: {
                    text: "Simple Column Chart"
                },
                subtitles: [
                    { text: "" }
                ],
                axisY: {
                    title: "",
                    labelFormatter: function (e) {
                        if (e.value === 1) {
                            return "Quote Wizard ";
                        } else if (e.value === 2) {
                            return "Policy Details ";
                        } else if (e.value === 3) {
                            return "BusinessOwners";
                        } else if (e.value === 4) {
                            return "location";
                        } else if (e.value === 5) {
                            return "Buildings";
                        } else if (e.value === 6) {
                            return "submission ";
                        } else if (e.value === 7) {
                            return "";
                        } else {
                            return "";
                        }
                    }
                },
                data: [
                    {
                        type: "column",
                        dataPoints: [
                            { label: "User1", y: 1 },
                            { label: "User2", y: 2 },
                            { label: "User3", y: 3 },
                            { label: "User4", y: 4 },
                            { label: "User5", y: 5 },
                            { label: "User6", y: 6 },
                            { label: "User7", y: 3 }
                        ]
                    }
                ]
            });
            chart.render();
        });
    </script>
} *@

@{
    ViewData["Title"] = "Home";
}

<script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>

<div id="chartContainer"></div>

@section Scripts {
    <script>
        document.addEventListener("DOMContentLoaded", function () {

            fetch('@Url.Action("GetTopUserIds", "Home")')
                .then(response => response.json())
                .then(data => {
                    var topUserIds = data;

                    var dataPoints = [];
                    for (var i = 0; i < topUserIds.length; i++) {
                        dataPoints.push({ label: topUserIds[i], y: i + 1 });
                    }

                    var chart = new CanvasJS.Chart("chartContainer", {
                        width: 800,
                        height: 500,
                        theme: "light2",
                        animationEnabled: true,
                        title: {
                            text: "Simple Column Chart"
                        },
                        subtitles: [
                            { text: "" }
                        ],
                        axisY: {
                            title: "",
                            labelFormatter: function (e) {
                                if (e.value === 1) {
                                    return "Quote Wizard";
                                } else if (e.value === 2) {
                                    return "Policy Details";
                                } else if (e.value === 3) {
                                    return "BusinessOwners";
                                } else if (e.value === 4) {
                                    return "Location";
                                } else if (e.value === 5) {
                                    return "Buildings";
                                } else if (e.value === 6) {
                                    return "Success";
                                } else if (e.value === 7) {
                                    return ""; // You might want to change this if necessary
                                } else {
                                    return "";
                                }
                            }
                        },
                        data: [
                            {
                                type: "column",
                                dataPoints: dataPoints
                            }
                        ]
                    });
                    chart.render();
                })
                .catch(error => {
                    console.error('Error fetching top user IDs:', error);
                });
        });
    </script>

}

